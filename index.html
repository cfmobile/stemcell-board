<html>
	<head>
		<title>Concourse Arrivals and Departures</title>
		<link rel="stylesheet" href="./css/departure-board.css" />
	</head>

	<body>
		<div id="board"></div>

		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
		<script src="./js/departure-board.js"></script>
		<script>
			$.getJSON("teams.json", function(rows) {
				var board = new DepartureBoard(
					document.getElementById('board'),
					{
						rowCount: rows.teams.length,
						letterCount: 29
					}
				);

				board.setValue(rows.teams);

				(function updateTable(){
					$.ajax({
						url: "teams.json",
						dataType: "json",
						complete: function() {
							setTimeout(updateTable, 5000);
						},
						success: function(data) {
							board.setValue(data.teams);
						},
					});
				})();
			});
		</script>
	</body>
</html>
